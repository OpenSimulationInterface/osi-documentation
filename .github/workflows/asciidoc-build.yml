name: AsciiDoc Documentation Build

on:
  push:


jobs: 
  asciidoctor-build:
    name: Run Asciidoctor on Documentation
    
    runs-on: ubuntu-18.04

    steps:
    # Checkout osi documentation
    - name: Checkout osi-documentation
      uses: actions/checkout@v2
      with:
        submodules: true

    # Checkout all other OSI repositories with branch "migration" and nested into osi-documentation
    # - name: Checkout open-simulation-interface
    #   uses: actions/checkout@v2
    #   with:
    #     repository: OpenSimulationInterface/open-simulation-interface
    #     ref: migration
    #     submodules: true
    #     path: osi-documentation

    - name: Checkout OSI Sensor Model Packaging
      uses: actions/checkout@v2
      with:
        repository: OpenSimulationInterface/osi-sensor-model-packaging
        ref: migration
        # submodules: true
        # path: osi-documentation


    # - name: Checkout OSI Validation
    #   uses: actions/checkout@v2
    #   with:
    #     repository: OpenSimulationInterface/osi-validation
    #     ref: migration
    #     submodules: true
    #     # path: osi-documentation


    # - name: Checkout OSI Visualizer
    #   uses: actions/checkout@v2
    #   with:
    #     repository: OpenSimulationInterface/osi-visualizer
    #     ref: migration
    #     submodules: true
    #     path: osi-documentation


    # - name: Checkout proto2cpp
    #   uses: actions/checkout@v2
    #   with:
    #     repository: OpenSimulationInterface/proto2cpp
    #     ref: migration
    #     submodules: true
        # path: osi-documentation

    # DEBUG: 
    - name: Show checkout result for debugging purposes
      run: ls -la

    - name: Show checkout result for debugging purposes
      run: git branch
      working-directory: ./osi-sensor-model-packaging




    # run Asciidoctor
    # - name: Build HTML
    #   uses: avattathil/asciidoctor-action@master
    #   with:
    #     program: "asciidoctor -D . --backend=html5 document.adoc"

    # - name: Upload HTML Artifact
    #   uses: actions/upload-artifact@v1
    #   with:
    #     name: HTML document
    #     path: document.html



