

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Open Simulation Interface (OSI) &mdash; Open Simulation Interface v3.1.2 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/collapsible-lists/js/CollapsibleLists.compressed.js"></script>
        <script src="../_static/collapsible-lists/js/apply-collapsible-lists.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/collapsible-lists/css/tree_view.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="General description" href="doc/description.html" />
    <link rel="prev" title="Welcome to Open Simulation Interface’s documentation!" href="../index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Open Simulation Interface
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Open Simulation Interface:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Open Simulation Interface (OSI)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#usage">Usage</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#example-of-writing-and-reading-an-osi-message-in-python">Example of writing and reading an OSI message in <code class="docutils literal notranslate"><span class="pre">Python</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#dependencies">Dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="#build-and-install-for-c-usage">Build and install for <code class="docutils literal notranslate"><span class="pre">C++</span></code> usage:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#install-for-python-usage">Install for <code class="docutils literal notranslate"><span class="pre">Python</span></code> usage:</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="doc/description.html">General description</a></li>
<li class="toctree-l1"><a class="reference internal" href="doc/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="doc/fileformat.html">OSI File Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="doc/coordinatesystem.html">Coordinate systems and reference points</a></li>
<li class="toctree-l1"><a class="reference internal" href="doc/commenting.html">Commenting</a></li>
<li class="toctree-l1"><a class="reference internal" href="doc/versioning.html">Versioning</a></li>
<li class="toctree-l1"><a class="reference internal" href="doc/releases.html">Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="doc/howtocontribute.html">Contributors’ Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="library_root.html">OSI Reference</a></li>
</ul>
<p class="caption"><span class="caption-text">OSI Validator:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../osi-validation/README.html">OSI Validator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../osi-validation/doc/description.html">General description</a></li>
<li class="toctree-l1"><a class="reference internal" href="../osi-validation/doc/howtocontribute.html">Contributors’ Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../osi-validation/doc/osivalidator.html">Validator Reference</a></li>
</ul>
<p class="caption"><span class="caption-text">OSI Visualizer:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../osi-visualizer/README.html">OSI Visualizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../osi-visualizer/doc/panels.html">Panels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../osi-visualizer/doc/nvidia-docker.html">Nvidia Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../osi-visualizer/doc/howtocontribute.html">Contributors’ Guidelines</a></li>
</ul>
<p class="caption"><span class="caption-text">OSI Sensor Model Packaging:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../osi-sensor-model-packaging/README.html">OSI Sensor Model Packaging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../osi-sensor-model-packaging/doc/specification.html">OSI Sensor Model Packaging Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../osi-sensor-model-packaging/doc/examples.html">Examples</a></li>
</ul>
<p class="caption"><span class="caption-text">Proto2Cpp:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../proto2cpp/README.html">Doxygen filter for Google Protocol Buffers .proto files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proto2cpp/README.html#version-history">Version history</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proto2cpp/README.html#copyright">Copyright</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Open Simulation Interface</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Open Simulation Interface (OSI)</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/open-simulation-interface/README.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="open-simulation-interface-osi">
<h1>Open Simulation Interface (OSI)<a class="headerlink" href="#open-simulation-interface-osi" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="https://travis-ci.org/OpenSimulationInterface/open-simulation-interface"><img alt="Travis Build Status" src="https://travis-ci.org/OpenSimulationInterface/open-simulation-interface.svg?branch=master" /></a></p>
<p>The Open Simulation Interface <sup><a class="reference external" href="https://www.hot.ei.tum.de/forschung/automotive-veroeffentlichungen/">[1]</a></sup> (OSI) is a generic interface based on <a class="reference external" href="https://developers.google.com/protocol-buffers/">Google’s protocol buffers</a> for the environmental perception of automated driving functions in virtual scenarios.</p>
<p>As the complexity of automated driving functions rapidly increases, the requirements for test and development methods are growing. Testing in virtual environments offers the advantage of completely controlled and reproducible environment conditions.</p>
<p>In this context, OSI defines generic interfaces to ensure modularity, integrability, and interchangeability of the individual components:
<img alt="../_images/osicontextwiki1.png" src="../_images/osicontextwiki1.png" /></p>
<p>For more information on OSI see the <a class="reference external" href="https://opensimulationinterface.github.io/osi-documentation/">official documentation</a> or the <a class="reference external" href="https://opensimulationinterface.github.io/open-simulation-interface/">official reference documentation</a> for defined protobuf messages.</p>
<p>[1] Hanke, T., Hirsenkorn, N., van-Driesten, C., Garcia-Ramos, P., Schiementz, M., Schneider, S. &amp; Biebl, E. (2017, February 03). <em>A generic interface for the environment perception of automated driving functions in virtual scenarios.</em> Retrieved January 25, 2020, from https://www.hot.ei.tum.de/forschung/automotive-veroeffentlichungen/</p>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<div class="section" id="example-of-writing-and-reading-an-osi-message-in-python">
<h3>Example of writing and reading an OSI message in <code class="docutils literal notranslate"><span class="pre">Python</span></code><a class="headerlink" href="#example-of-writing-and-reading-an-osi-message-in-python" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">osi3.osi_sensorview_pb2</span> <span class="kn">import</span> <span class="n">SensorView</span>
<span class="kn">from</span> <span class="nn">osi3.osi_sensordata_pb2</span> <span class="kn">import</span> <span class="n">SensorData</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Initialize SensorView and SensorData&quot;&quot;&quot;</span>
    <span class="n">sensorview</span> <span class="o">=</span> <span class="n">SensorView</span><span class="p">()</span>
    <span class="n">sensordata</span> <span class="o">=</span> <span class="n">SensorData</span><span class="p">()</span>

    <span class="sd">&quot;&quot;&quot;Clear SensorData&quot;&quot;&quot;</span>
    <span class="n">sensordata</span><span class="o">.</span><span class="n">Clear</span><span class="p">()</span>

    <span class="sd">&quot;&quot;&quot;Get boundary line attributes from SensorView&quot;&quot;&quot;</span>
    <span class="n">sv_ground_truth</span> <span class="o">=</span> <span class="n">sensorview</span><span class="o">.</span><span class="n">global_ground_truth</span>
    <span class="n">sv_lane_boundary</span> <span class="o">=</span> <span class="n">sv_ground_truth</span><span class="o">.</span><span class="n">lane_boundary</span><span class="o">.</span><span class="n">add</span><span class="p">()</span>
    <span class="n">sv_boundary_line</span> <span class="o">=</span> <span class="n">sv_lane_boundary</span><span class="o">.</span><span class="n">boundary_line</span><span class="o">.</span><span class="n">add</span><span class="p">()</span>
    <span class="n">sv_boundary_line</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mf">1699.20</span>
    <span class="n">sv_boundary_line</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="mf">100.16</span>
    <span class="n">sv_boundary_line</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="mf">0.0</span>
    <span class="n">sv_boundary_line</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="mf">0.13</span>
    <span class="n">sv_boundary_line</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="mf">0.0</span>

    <span class="sd">&quot;&quot;&quot;Set boundary line attributes to SensorData&quot;&quot;&quot;</span>
    <span class="n">sd_lane_boundary</span> <span class="o">=</span> <span class="n">sensordata</span><span class="o">.</span><span class="n">lane_boundary</span><span class="o">.</span><span class="n">add</span><span class="p">()</span>
    <span class="n">sd_boundary_line</span> <span class="o">=</span> <span class="n">sd_lane_boundary</span><span class="o">.</span><span class="n">boundary_line</span><span class="o">.</span><span class="n">add</span><span class="p">()</span>
    <span class="n">sd_boundary_line</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">sv_boundary_line</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">x</span>
    <span class="n">sd_boundary_line</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">sv_boundary_line</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">y</span>
    <span class="n">sd_boundary_line</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="n">sv_boundary_line</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">z</span>
    <span class="n">sd_boundary_line</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">sv_boundary_line</span><span class="o">.</span><span class="n">width</span>
    <span class="n">sd_boundary_line</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="n">sv_boundary_line</span><span class="o">.</span><span class="n">height</span>

    <span class="sd">&quot;&quot;&quot;Serialize SensorData which can be send&quot;&quot;&quot;</span>
    <span class="n">string_buffer</span> <span class="o">=</span> <span class="n">sensordata</span><span class="o">.</span><span class="n">SerializeToString</span><span class="p">()</span>

    <span class="sd">&quot;&quot;&quot;Clear SensorData to show parsing from string&quot;&quot;&quot;</span>
    <span class="n">sensordata</span><span class="o">.</span><span class="n">Clear</span><span class="p">()</span>

    <span class="sd">&quot;&quot;&quot;The received string buffer can now be parsed&quot;&quot;&quot;</span>
    <span class="n">sensordata</span><span class="o">.</span><span class="n">ParseFromString</span><span class="p">(</span><span class="n">string_buffer</span><span class="p">)</span>

    <span class="sd">&quot;&quot;&quot;Print SensorData&quot;&quot;&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">sensordata</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
<p><strong>Output</strong>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>lane_boundary <span class="o">{</span>
  boundary_line <span class="o">{</span>
    position <span class="o">{</span>
      x: <span class="m">1699</span>.2
      y: <span class="m">100</span>.16
      z: <span class="m">0</span>.0
    <span class="o">}</span>
    width: <span class="m">0</span>.13
    height: <span class="m">0</span>.0
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>See Google’s documentation for more tutorials on how to use protocol buffers with <a class="reference external" href="https://developers.google.com/protocol-buffers/docs/pythontutorial">Python</a> or <a class="reference external" href="https://developers.google.com/protocol-buffers/docs/cpptutorial">C++</a>.</p>
</div>
</div>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="dependencies">
<h3>Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this headline">¶</a></h3>
<p>Install <code class="docutils literal notranslate"><span class="pre">cmake</span></code> 3.10.2:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sudo apt-get install cmake
</pre></div>
</div>
<p>Install <code class="docutils literal notranslate"><span class="pre">pip3</span></code> and missing python packages:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sudo apt-get install python3-pip python3-setuptools
</pre></div>
</div>
<p>Install <code class="docutils literal notranslate"><span class="pre">protobuf</span></code> 3.0.0:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sudo apt-get install libprotobuf-dev protobuf-compiler
</pre></div>
</div>
</div>
<div class="section" id="build-and-install-for-c-usage">
<h3>Build and install for <code class="docutils literal notranslate"><span class="pre">C++</span></code> usage:<a class="headerlink" href="#build-and-install-for-c-usage" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git clone https://github.com/OpenSimulationInterface/open-simulation-interface.git
$ <span class="nb">cd</span> open-simulation-interface
$ mkdir build
$ <span class="nb">cd</span> build
$ cmake ..
$ make
$ sudo make install
</pre></div>
</div>
</div>
<div class="section" id="install-for-python-usage">
<h3>Install for <code class="docutils literal notranslate"><span class="pre">Python</span></code> usage:<a class="headerlink" href="#install-for-python-usage" title="Permalink to this headline">¶</a></h3>
<p>Local:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git clone https://github.com/OpenSimulationInterface/open-simulation-interface.git
$ <span class="nb">cd</span> open-simulation-interface
$ sudo pip3 install virtualenv
$ virtualenv -p python3 venv
$ <span class="nb">source</span> venv/bin/activate
$ python3 -m pip install .
</pre></div>
</div>
<p>Global:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git clone https://github.com/OpenSimulationInterface/open-simulation-interface.git
$ <span class="nb">cd</span> open-simulation-interface
$ sudo pip3 install .
</pre></div>
</div>
<p>For Windows installation see <a class="reference external" href="https://opensimulationinterface.github.io/osi-documentation/osi/windows.html">here</a> for more information.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="doc/description.html" class="btn btn-neutral float-right" title="General description" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../index.html" class="btn btn-neutral float-left" title="Welcome to Open Simulation Interface’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Carlo van Driesten

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>